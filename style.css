/* --- BIẾN TOÀN CỤC & FONT --- */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

:root {
    --bg-deep: #0d0d12;
    --panel-rpg: #1e1e26;
    --panel-light: #2a2a35;
    --border-rpg: #5c4033;
    --gold: #ffcf40;
    --gold-glow: rgba(255, 207, 64, 0.3);
    --success: #4ade80;
    --error: #f87171;
    --durability: #3b82f6; /* Màu xanh cho độ bền hoặc mana */
    --text-main: #e2e2e7;
    --text-dim: #888;
    --nav-size: 70px;
    --pixel-shadow: 4px 4px 0px #000;
}

/* --- RESET & CHUNG --- */
* {
    box-sizing: border-box;
    margin: 0; padding: 0;
    image-rendering: pixelated;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
}

body {
    height: 100vh; width: 100vw;
    overflow: hidden;
    background: var(--bg-deep);
    color: var(--text-main);
    font-family: 'Press Start 2P', cursive;
    font-size: 10px;
    display: flex;
}

/* --- MÀN HÌNH LOADING --- */
#loading-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: var(--bg-deep); z-index: 9999;
    display: flex; justify-content: center; align-items: center;
    transition: opacity 0.5s;
}

.logo-pixel {
    font-size: 50px; color: var(--gold);
    margin-bottom: 20px; text-align: center;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.7; }
}

/* --- SIDEBAR (THANH ĐIỀU HƯỚNG) --- */
.sidebar {
    width: 80px; background: #15151c;
    border-right: 4px solid var(--border-rpg);
    display: flex; flex-direction: column;
    align-items: center; padding: 20px 0; gap: 15px;
    flex-shrink: 0;
}

.nav-item {
    width: 50px; height: 50px;
    background: var(--panel-light);
    border: 3px solid #000;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; font-size: 20px; color: #555;
    transition: all 0.2s;
    box-shadow: 2px 2px 0px #000;
}

.nav-item.active {
    background: var(--gold); color: #000;
    border-color: #fff; transform: scale(1.1);
    box-shadow: 0 0 10px var(--gold-glow);
}

/* --- KHUNG NỘI DUNG --- */
.content {
    flex: 1; display: flex; flex-direction: column;
    min-width: 0; position: relative;
}

.global-header {
    height: 60px; background: #1a1a24;
    border-bottom: 4px solid var(--border-rpg);
    display: flex; justify-content: space-around; align-items: center;
    flex-shrink: 0;
}

.header-stat { color: var(--gold); font-size: 9px; display: flex; align-items: center; gap: 5px; }

.scroll-container {
    flex: 1; overflow-y: auto; padding: 15px;
    background-image: radial-gradient(#222 1px, transparent 1px);
    background-size: 20px 20px;
}

/* --- TAB HOME & STAT CARDS --- */
.stats-grid {
    display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px;
}

.stat-card {
    background: var(--panel-rpg);
    border: 3px solid var(--border-rpg);
    padding: 15px; text-align: center;
    box-shadow: var(--pixel-shadow);
}

.stat-label { display: block; font-size: 7px; color: var(--text-dim); margin-bottom: 8px; }

/* --- RPG BOX & ITEMS --- */
.tab-content { display: none; animation: fadeIn 0.3s forwards; }
.tab-content.active { display: block; }

@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

.sub-title {
    font-size: 10px; color: var(--gold);
    margin: 20px 0 10px 0; padding-left: 10px;
    border-left: 4px solid var(--gold);
}

.rpg-box {
    background: var(--panel-rpg);
    border: 3px solid var(--border-rpg);
    padding: 15px; margin-bottom: 15px;
    box-shadow: var(--pixel-shadow);
}

.recipe-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;
}

/* --- HUNTER ITEMS --- */
.hunter-item {
    background: var(--panel-rpg);
    border: 3px solid var(--border-rpg);
    padding: 12px; display: flex; align-items: center;
    margin-bottom: 10px; position: relative;
}

.hunter-avatar {
    width: 45px; height: 45px; background: #000;
    border: 2px solid #444; display: flex;
    align-items: center; justify-content: center;
    font-size: 20px; flex-shrink: 0;
}

.hp-bar-container {
    height: 8px; background: #000; border: 1px solid #444;
    margin-top: 5px; overflow: hidden;
}

.hp-fill { height: 100%; background: var(--success); transition: width 0.3s; }
.btn-fire { color: var(--error); cursor: pointer; padding: 10px; font-size: 14px; }

/* --- NÚT BẤM --- */
.btn-action {
    font-family: inherit; width: 100%; padding: 12px;
    background: #4a3728; color: var(--gold);
    border: 3px solid #000; border-bottom-width: 6px;
    cursor: pointer; font-size: 8px; text-transform: uppercase;
    transition: all 0.1s;
}

.btn-action:active { transform: translateY(3px); border-bottom-width: 3px; }
.btn-action:disabled { opacity: 0.5; filter: grayscale(1); cursor: not-allowed; }

/* --- LOG SYSTEM --- */
#log {
    height: 100px; background: #050507;
    border-top: 4px solid var(--border-rpg);
    padding: 10px; font-size: 8px; color: var(--text-dim);
    overflow-y: auto; font-family: monospace; line-height: 1.5;
}

/* --- RESPONSIVE CHO MOBILE --- */
@media (max-width: 600px) {
    body { flex-direction: column-reverse; } /* Đưa sidebar xuống dưới cùng */

    .sidebar {
        width: 100%; height: var(--nav-size);
        flex-direction: row; border-right: none;
        border-top: 4px solid var(--border-rpg);
        padding: 0 10px; justify-content: space-around;
        gap: 0;
    }

    .nav-item { width: 45px; height: 45px; font-size: 18px; }

    .content { height: calc(100vh - var(--nav-size)); }

    .stats-grid { grid-template-columns: 1fr 1fr; }

    .recipe-grid { grid-template-columns: 1fr; } /* Các thẻ rèn đồ xếp chồng 1 cột trên mobile */

    .stat-card { padding: 10px; }
}

/* Tinh chỉnh cho màn hình siêu nhỏ */
@media (max-width: 350px) {
    .header-stat span { display: none; } /* Chỉ hiện icon nếu màn hình quá hẹp */
    .header-stat i { font-size: 14px; }
}
